webpackJsonp([10],{E1vP:function(e,t){},HGh7:function(e,t){},rPrT:function(e,t){},tnTx:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{flag:!1,type:this.$route.params.type,companyData:[],departmentData:[],optionsSelect:[],ruleForm:{username:"",password:"",company_id:0,department_id:0,position:"管理员",mobile:"",status:1,remarks:""},rules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:{required:!0,message:"请输入用户密码",trigger:"blur"},mobile:[{required:!0,message:"请输入手机号",trigger:"blur"}]}}},created:function(){"2"==this.type&&this.modify(),this.companyList()},methods:{handleCompany:function(e){this.departmentList(e),this.ruleForm.department_id=""},companyList:function(){var e=this,t=this;t.$api.post("companytype/",{},function(t){e.companyData=t.data},function(e){t.$message.error(e.msg)})},departmentList:function(e){var t=this,r=this;r.$api.get("orglist/",{company_id:e},function(e){t.departmentData=e.data.list},function(e){r.$message.error(e.msg)})},goBack:function(){this.$router.go(-1)},submitForm:function(e){var t=this;if(!/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(this.ruleForm.mobile))return this.$message.error("请输入正确的联系方式"),!1;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;"1"==t.type?t.addManage():"2"==t.type&&t.updataManage()})},addManage:function(){var e=this,t=this;t.$api.post("manage",t.ruleForm,function(t){e.$message({message:t.message,type:"success"}),setTimeout(function(){e.$router.push({name:"manage-info-list"})},500)},function(e){t.$message.error(e.data)})},updataManage:function(){var e=this,t=this;t.$api.put("manage/"+t.$route.params.id,t.ruleForm,function(t){e.$message({message:t.message,type:"success"}),setTimeout(function(){e.$router.push({name:"manage-info-list"})},500)},function(e){t.$message.error(e.msg)})},modify:function(){var e=this,t=this;t.$api.get("manage/"+t.$route.params.id,{id:t.$route.params.id},function(t){e.ruleForm=t.data,e.ruleForm.password="",e.departmentList(t.data.company_id)},function(e){t.$message.error(e.msg)})}},mounted:function(){}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-manage-info sharing"},[r("div",{staticClass:"return"},[r("div",{staticClass:"return-box",on:{click:e.goBack}},[e._v("返回列表")])]),e._v(" "),r("div",{staticClass:"skillby-tab"},[r("div",{staticClass:"search_box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("div",{staticClass:"search-input"},[r("el-form-item",{attrs:{label:"用户名称：",prop:"username"}},[r("el-input",{attrs:{placeholder:"输入用户名称",clearable:""},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码：",prop:"password"}},[r("el-input",{attrs:{placeholder:"输入密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"电话：",prop:"mobile"}},[r("el-input",{attrs:{placeholder:"输入电话"},model:{value:e.ruleForm.mobile,callback:function(t){e.$set(e.ruleForm,"mobile",t)},expression:"ruleForm.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"状态：",prop:"radio"}},[r("el-radio-group",{staticClass:"radio-box",model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[r("el-radio",{attrs:{label:0}},[e._v("禁用")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("启用")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{staticClass:"textarea",attrs:{type:"textarea",placeholder:"输入备注"},model:{value:e.ruleForm.remarks,callback:function(t){e.$set(e.ruleForm,"remarks",t)},expression:"ruleForm.remarks"}})],1),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)])],1)])])},staticRenderFns:[]};var o=r("VU/8")(a,s,!1,function(e){r("HGh7"),r("rPrT"),r("E1vP")},null,null);t.default=o.exports}});
//# sourceMappingURL=10.213f5f34c8b5769aca21.js.map