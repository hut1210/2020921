webpackJsonp([3],{"/0tz":function(e,t,o){e.exports=o.p+"static/img/login.c533d35.png"},W2Q3:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={name:"login",data:function(){return{ok:!1,redirect:"",ctoken:"",picCodeSrc:"",formLogin:{email:"",pwd:"",source:"PC",nick:"",cfpassword:""},errorInfo:{text:"登陆失败,请重试",isShowError:!1}}},created:function(){},mounted:function(){},methods:{login:function(){var e=this,t=this,o="/gpauth/partner/merchant/users/login";if(""===t.formLogin.email)return t.$message.error("请输入账号"),!1;if(""===t.formLogin.pwd)return t.$message.error("请输入密码"),!1;if(t.ok){if(t.formLogin.pwd!=t.formLogin.cfpassword)return t.$message.error("两次密码输入不一致！"),!1;o="/gpauth/partner/merchant/users/add"}console.log(t.formLogin),t.$api.post(o,t.formLogin,function(o){t.$utils.setloc("token",o.result.access_token),t.redirect&&-1===t.redirect.indexOf("/login")?t.$router.push({path:t.redirect}):1e3==o.code?(t.ok?(t.$utils.setloc("group_id",0),e.$message({message:"注册成功",type:"success"})):(t.$utils.setloc("group_id",0),e.$message({message:"登陆成功",type:"success"})),t.$router.push({path:"/basic-setup"})):t.$message.error(o.info)})},toForgotView:function(){this.$router.push({path:"/forgot-password"})},toaddView:function(){this.ok=!0}}},i={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login_box"},[e._m(0),e._v(" "),o("div",{staticClass:"login_content"},[o("div",{staticClass:"main_box"},[e._m(1),e._v(" "),o("div",{staticClass:"login_header"},[e._v("\n        业务管理系统\n      ")]),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.formLogin}},[o("el-form-item",[o("div",{staticClass:"user-accounts phone"},[o("i",{staticClass:"el-icon-user-solid"}),e._v(" "),o("el-input",{attrs:{type:"text",placeholder:"请输入邮箱账号"},model:{value:e.formLogin.email,callback:function(t){e.$set(e.formLogin,"email",t)},expression:"formLogin.email"}})],1)]),e._v(" "),e.ok?o("el-form-item",[o("div",{staticClass:"user-accounts phone"},[o("i",{staticClass:"el-icon-user-solid"}),e._v(" "),o("el-input",{attrs:{type:"text",placeholder:"请输入昵称"},model:{value:e.formLogin.nick,callback:function(t){e.$set(e.formLogin,"nick",t)},expression:"formLogin.nick"}})],1)]):e._e(),e._v(" "),o("el-form-item",[o("div",{staticClass:"user-accounts phone"},[o("i",{staticClass:"el-icon-lock"}),e._v(" "),o("el-input",{attrs:{type:"password",placeholder:"请输入密码","auto-complete":"new-password"},model:{value:e.formLogin.pwd,callback:function(t){e.$set(e.formLogin,"pwd",t)},expression:"formLogin.pwd"}})],1)]),e._v(" "),e.ok?o("el-form-item",[o("div",{staticClass:"user-accounts phone"},[o("i",{staticClass:"el-icon-circle-check"}),e._v(" "),o("el-input",{attrs:{type:"password",placeholder:"请再次输入密码","auto-complete":"new-password"},model:{value:e.formLogin.cfpassword,callback:function(t){e.$set(e.formLogin,"cfpassword",t)},expression:"formLogin.cfpassword"}})],1)]):e._e(),e._v(" "),0==e.ok?o("el-form-item",{attrs:{label:""}},[o("p",{staticClass:"forget_pass",staticStyle:{cursor:"pointer"},on:{click:e.toForgotView}},[e._v("\n            忘记密码？\n          ")]),e._v(" "),o("p",{staticClass:"forget_pass",staticStyle:{cursor:"pointer"},on:{click:e.toaddView}},[e._v("\n          立即注册\n        ")])]):e._e(),e._v(" "),o("el-form-item",{attrs:{label:""}},[e.ok?o("el-button",{staticClass:"login",staticStyle:{margin:"0.125rem auto"},attrs:{round:""},on:{click:e.login}},[e._v("注册")]):o("el-button",{staticClass:"login",attrs:{round:""},on:{click:e.login}},[e._v("登录")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header"},[t("p",{staticClass:"title"},[this._v("业务管理系统")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login_headerimg"},[t("img",{staticClass:"headerimg",attrs:{id:"logoid",src:o("/0tz"),alt:""}})])}]};var r=o("VU/8")(s,i,!1,function(e){o("Wx3Z"),o("nJed")},"data-v-f8f6f48a",null);t.default=r.exports},Wx3Z:function(e,t){},nJed:function(e,t){}});
//# sourceMappingURL=3.83bfc5eb9091cb64bc8f.js.map