webpackJsonp([22],{"6NzU":function(e,a){},"8Hn/":function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o={data:function(){return{optionsSelect:[],ruleForm:{company_name:"",type:"",company_person:"",company_person_tel:"",company_addr:"",company_rand:""},options:[{value:"1",label:"送检（项目经理）"},{value:"2",label:"检测（检测经理）"}],rules:{company_name:[{required:!0,message:"请输入公司名称",trigger:"blur"},{min:3,max:30,message:"长度在 3 到 3 个字符",trigger:"blur"}],type:{required:!0,message:"请选择公司类型",trigger:"blur"},company_person:{required:!0,message:"请输入负责人",trigger:"blur"},company_person_tel:{required:!0,message:"请输入负责人联系方式",trigger:"blur"}}}},created:function(){this.c_id=this.$route.params.id,void 0==this.c_id||this.getCompanymsg(this.c_id)},methods:{goBack:function(){this.$router.go(-1)},getCompanymsg:function(e){var a=this;a.$api.get("company/"+e,{},function(e){a.ruleForm.company_name=e.data.company_name,a.ruleForm.company_person=e.data.company_person,a.ruleForm.company_person_tel=e.data.company_person_tel,a.ruleForm.company_addr=e.data.company_addr,a.ruleForm.company_rand=e.data.company_rand,1==e.data.type?a.ruleForm.type="送检（项目经理）":a.ruleForm.type="检测（检测经理）"},function(e){a.$message.error(e.message)})},submitForm:function(e){var a=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;void 0==a.c_id?a.addCompany(a.ruleForm):a.formConpanymsg(a.ruleForm)})},formConpanymsg:function(e){var a=this;"送检（项目经理）"==e.type?a.type=1:a.type=2;var r=e.company_name,o=e.company_person,n=e.company_person_tel,t=e.company_addr,l=e.company_rand,s=a.type;a.$api.post("companyinfo/"+this.c_id,{company_name:r,type:s,company_person:o,company_person_tel:n,company_addr:t,company_rand:l},function(e){a.$message.success(e.message),a.$router.push({name:"company-list"})},function(e){a.$message.error(e.message)})},addCompany:function(e){var a=this,r=e.company_name,o=e.company_person,n=e.company_person_tel,t=e.company_addr,l=e.company_rand,s=e.type;a.$api.post("company",{company_name:r,type:s,company_person:o,company_person_tel:n,company_addr:t,company_rand:l},function(e){a.$message.success(e.message),a.$router.push({name:"company-list"})},function(e){a.$message.error(e.message)})}},mounted:function(){}},n={render:function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"updata-company-info sharing"},[r("div",{staticClass:"return"},[r("div",{staticClass:"return-box",on:{click:e.goBack}},[e._v("返回列表")])]),e._v(" "),r("div",{staticClass:"skillby-tab"},[r("div",{staticClass:"search_box"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("div",{staticClass:"search-input"},[r("el-form-item",{attrs:{label:"公司名称：",prop:"company_name"}},[r("el-input",{attrs:{placeholder:"输入公司名称",clearable:""},model:{value:e.ruleForm.company_name,callback:function(a){e.$set(e.ruleForm,"company_name",a)},expression:"ruleForm.company_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司类型：",prop:"type"}},[r("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.ruleForm.type,callback:function(a){e.$set(e.ruleForm,"type",a)},expression:"ruleForm.type"}},e._l(e.options,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"负责人：",prop:"company_person"}},[r("el-input",{attrs:{placeholder:"输入负责人",clearable:""},model:{value:e.ruleForm.company_person,callback:function(a){e.$set(e.ruleForm,"company_person",a)},expression:"ruleForm.company_person"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"负责人电话：",prop:"company_person_tel"}},[r("el-input",{attrs:{placeholder:"输入负责人电话",clearable:""},model:{value:e.ruleForm.company_person_tel,callback:function(a){e.$set(e.ruleForm,"company_person_tel",a)},expression:"ruleForm.company_person_tel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"公司地址：",prop:"company_addr"}},[r("el-input",{attrs:{placeholder:"输入公司地址",clearable:""},model:{value:e.ruleForm.company_addr,callback:function(a){e.$set(e.ruleForm,"company_addr",a)},expression:"ruleForm.company_addr"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"业务范围：",prop:"company_rand"}},[r("el-input",{staticClass:"textarea",staticStyle:{height:"120px"},attrs:{type:"textarea",placeholder:"输入业务范围",clearable:""},model:{value:e.ruleForm.company_rand,callback:function(a){e.$set(e.ruleForm,"company_rand",a)},expression:"ruleForm.company_rand"}})],1),e._v(" "),r("el-button",{staticStyle:{display:"block"},attrs:{type:"primary"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)])],1)])])},staticRenderFns:[]};var t=r("VU/8")(o,n,!1,function(e){r("6NzU"),r("Q8UX")},null,null);a.default=t.exports},Q8UX:function(e,a){}});
//# sourceMappingURL=22.3eb3419e130daea3b4f2.js.map