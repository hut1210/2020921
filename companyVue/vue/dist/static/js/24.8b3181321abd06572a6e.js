webpackJsonp([24],{"Kw/I":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main company-main"},[a("div",{staticClass:"mainHead"},[a("div",{staticClass:"searchBox"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-caret-right"}),t._v("当前位置：")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(" "+t._s(t.pro_name))]),t._v(" "),a("el-breadcrumb-item",{staticClass:"beforeloca"},[t._v("缺陷列表")])],1)],1),t._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.form}},[a("div",{staticClass:"search-input"},[a("el-form-item",{attrs:{label:"关键词:"}},[a("el-input",{attrs:{placeholder:"项目名称/产品名称/项目经理"},model:{value:t.form.word,callback:function(e){t.$set(t.form,"word",e)},expression:"form.word"}})],1),t._v(" "),a("el-button",{staticClass:"btn-query",on:{click:t.onSubmit}},[t._v("搜索")]),t._v(" "),2==t.$utils.getloc("group_id")?a("div",{staticClass:"btn-add",on:{click:t.addCompanyList}},[t._v("新增")]):t._e()],1)])],1)]),t._v(" "),a("div",{staticClass:"dataList"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"header-cell-style":t.getClass,height:"49.3rem"}},[a("el-table-column",{attrs:{prop:"title",label:"缺陷名称",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"classify",label:"缺陷标签",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"addtime",label:"时间",width:""}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation"},[5==t.$utils.getloc("group_id")?a("span",{staticClass:"oper_edit",on:{click:function(a){return t.lookRow(e.row)}}},[t._v("查看")]):t._e(),t._v(" "),2==t.$utils.getloc("group_id")?a("span",{staticClass:"oper_edit",on:{click:function(a){return t.editRow(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),2==t.$utils.getloc("group_id")?a("span",{staticClass:"oper_delet",on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")]):t._e()])]}}])})],1)],1),t._v(" "),a("el-pagination",{attrs:{"prev-text":"上一页","next-text":"下一页",layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var o=a("VU/8")({name:"home",data:function(){return{form:{word:""},options:[{lable:"1",value:"组织1"},{lable:"2",value:"组织2"}],tableData:[],pageIndex:1,total:0,pro_name:""}},created:function(){this.projectId=this.$route.query.projectId,this.pro_name=this.$route.query.conpanyName,this.getList(this.projectId)},methods:{getClass:function(){return"background: #66CE90FF"},onSubmit:function(){this.getList(this.projectId)},handleCurrentChange:function(t){this.pageIndex=t,this.getList()},addCompanyList:function(){this.$router.push({name:"defects-problem",params:{id:0,type:0,projectId:this.projectId}})},editRow:function(t){var e=t.id;this.$router.push({name:"defects-problem",params:{id:e,type:1}})},lookRow:function(t){var e=t.id;this.$router.push({name:"defects-problem",params:{id:e,type:2}})},deleteRow:function(t){var e=t.id;this.deleteCompany(e)},deleteCompany:function(t){var e=this;e.$confirm("此操作将删除此条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.delete("defect/"+t,{},function(t){e.$message({type:"success",message:t.message}),e.getList()},function(t){e.$message.error(t.message)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getList:function(){var t=this;t.$api.get("defect",{page:t.pageIndex,pagesize:10,project_id:t.projectId,keyword:t.form.word},function(e){t.tableData=e.data.data,t.total=e.data.total_page},function(e){t.$message.error(e.message)})}}},s,!1,function(t){a("QhDm")},"data-v-db846e9e",null);e.default=o.exports},QhDm:function(t,e){}});
//# sourceMappingURL=24.8b3181321abd06572a6e.js.map