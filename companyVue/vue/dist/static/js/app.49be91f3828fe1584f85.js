webpackJsonp([13],{"4Cdy":function(t,e){},"4G7S":function(t,e){},GsSn:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,s=n("7+uW"),i=n("bOdI"),o=n.n(i),r=(a={name:"chat",components:{},props:{shows:{type:Boolean,default:!0},userList:{type:Array,default:[]},activeIndex:{type:String},chatLeftData:{type:Array,default:[]}},data:function(){return{textarea:"",chatTitle:"",index:this.activeIndex}},computed:{},watch:{shows:function(){this.$utils.setloc("showFlage",this.shows),1==this.shows&&this.scrollBottm()},chatLeftData:function(){this.scrollBottm()},activeIndex:function(){this.index=this.activeIndex}},created:function(){},methods:{handleUserList:function(t){this.index=t;var e=t.toString();this.$store.commit("setActiveIndex",e),this.getContList()},scrollBottm:function(){var t=this.$refs["chat-content"];this.$nextTick(function(){t.scrollTop=t.scrollHeight})},close:function(){this.$store.commit("yincang")},send:function(){var t=this;if(""==t.textarea.replace(/\s*/g,""))return t.textarea="",!1;t.$api.postTall("/sendmessage",{to_member_id:t.userList[t.index].another_id,content:t.textarea},function(e){t.textarea="",t.getContList(),t.scrollBottm()})},getContList:function(){var t=this;t.$api.getTall("/getChatMessage",{chat_id:t.userList[t.index].chat_id,page:1},function(e){t.$store.commit("setChatLeftData",e.data.list)})}}},o()(a,"created",function(){}),o()(a,"mounted",function(){}),a),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:this.shows,expression:"this.shows"}],staticClass:"chat"},[n("div",{staticClass:"chat-left"},t._l(t.userList,function(e,a){return n("div",{key:a,staticClass:"chat-left-main",class:{active:t.activeIndex==a},on:{click:function(e){return t.handleUserList(a)}}},[n("img",{attrs:{src:"https://st.elongtian.com"+e.headimg,alt:""}}),t._v(" "),n("div",{staticClass:"user-info"},[n("div",{staticClass:"title"},[e.realname?n("span",{staticClass:"tit"},[t._v(t._s(e.realname))]):t._e(),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(e.send_time))])]),t._v(" "),n("div",{staticClass:"info"},[t._v(t._s(e.content))])])])}),0),t._v(" "),n("div",{staticClass:"chat-right"},[n("div",{staticClass:"chat-top"},[t.userList[t.activeIndex]?n("span",{staticClass:"chat-top-title"},[t._v(t._s(t.userList[t.activeIndex].realname))]):t._e(),t._v(" "),n("i",{staticClass:"el-icon-close chat-top-close",on:{click:t.close}})]),t._v(" "),n("div",{ref:"chat-content",staticClass:"chat-content"},t._l(t.chatLeftData,function(e,a){return n("div",{key:a,class:1==e.is_my?"chat-content-right":"chat-content-left"},[n("div",{staticClass:"chat-list-left",class:1==e.is_my?"chat-list-right":""},[0==e.is_my?n("img",{attrs:{src:"https://st.elongtian.com"+e.headimg,alt:""}}):t._e(),t._v(" "),n("div",{class:1==e.is_my?"chatBox2":"chatBox"},[t._v(t._s(e.content))]),t._v(" "),1==e.is_my?n("img",{attrs:{src:"https://st.elongtian.com"+e.headimg,alt:""}}):t._e()])])}),0),t._v(" "),n("div",{staticClass:"chat-send"},[n("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请说明情况"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}),t._v(" "),n("el-button",{staticClass:"send",attrs:{type:""},on:{click:t.send}},[t._v("发送")])],1)])])},staticRenderFns:[]};var c={data:function(){return{}},name:"App",components:{chat:n("VU/8")(r,l,!1,function(t){n("GsSn"),n("4G7S")},"data-v-48a1778c",null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("chat",{attrs:{shows:this.$store.state.showFlag,userList:this.$store.state.userList,activeIndex:this.$store.state.activeIndex,chatLeftData:this.$store.state.chatLeftData}}),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(t){n("rzy/")},null,null).exports,h=n("/ocq"),m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-page"},[t._m(0),t._v(" "),n("div",{staticClass:"error-desc"},[t._v("啊哦~ 你所访问的页面不存在")]),t._v(" "),n("div",{staticClass:"error-handle"},[n("router-link",{attrs:{to:"/login"}},[n("el-button",{attrs:{type:"primary",size:"large"}},[t._v("返回登陆页")])],1),t._v(" "),n("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:t.goBack}},[t._v("返回上一页")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"error-code"},[this._v("4"),e("span",[this._v("0")]),this._v("4")])}]};var p=n("VU/8")({methods:{goBack:function(){this.$router.go(-1)}}},m,!1,function(t){n("T+Sr")},"data-v-067609d4",null).exports,f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"el-aside",class:{"el-aside-collapse":t.isCollapse}},[n("div",{staticClass:"proTitle"},[t._v("\n    商户系统\n    "),n("el-button",{staticStyle:{"margin-left":"1.375rem","margin-top":"1.125rem",background:"rgb(236 245 255 / 0.5)",color:"#fff","font-weight":"600"},attrs:{type:"primary",size:"mini",round:"",plain:""},on:{click:t.toModifyPassword}},[t._v("首页")])],1),t._v(" "),n("div",{staticClass:"sidebar"},[t._m(0),t._v(" "),n("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-openeds":["1","2","3"],collapse:t.isCollapse,"default-active":t.$route.path,"background-color":"#ffffff","text-color":"#CCCCCC","active-text-color":"#66CE90FF","unique-opened":"",router:""}},[0==t.$utils.getloc("group_id")||2==t.$utils.getloc("group_id")||1!=t.$utils.getloc("group_id")?n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-user"}),t._v(" "),n("span",[t._v("商户信息管理")])]),t._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"basic-setup"}},[t._v("商户资质信息")])],1)],2):t._e(),t._v(" "),1==t.$utils.getloc("group_id")?n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-user"}),t._v(" "),n("span",[t._v("商户信息管理")])]),t._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"add-user"}},[t._v("商户资质信息")]),t._v(" "),n("el-menu-item",{attrs:{index:"make-user"}},[t._v("商户配置参数")])],1)],2):t._e(),t._v(" "),1==t.$utils.getloc("group_id")?n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-home"}),t._v(" "),n("span",[t._v("交易管理")])]),t._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"project-list"}},[t._v("订单信息查询")])],1)],2):t._e(),t._v(" "),1==t.$utils.getloc("group_id")?n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),t._v(" "),n("span",[t._v("资金管理")])]),t._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"user-list"}},[t._v("提现记录")]),t._v(" "),n("el-menu-item",{attrs:{index:"user-group-list"}},[t._v("充值记录")]),t._v(" "),n("el-menu-item",{attrs:{index:"manage-info-list"}},[t._v("代付记录")])],1)],2):t._e(),t._v(" "),n("a",{attrs:{href:"https://shimo.im/docs/YQCHqvGDjKK6wwXP",target:"_blank",rel:"noopener"}},[1==t.$utils.getloc("group_id")?n("el-menu-item",{staticStyle:{color:"#606266"}},[n("i",{staticClass:"el-icon-s-order"}),t._v("开发者文档")]):t._e()],1)],1)],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"companylogo"},[e("img",{staticClass:"imgs",attrs:{src:n("b/RU"),alt:""}})])}]};var v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"topHeader"},[e("div",{staticClass:"dropdown"},[e("div",{staticClass:"userMessage"},[e("p",{staticStyle:{cursor:"pointer"},on:{click:this.toModifyPassword}},[this._v("欢迎您，"+this._s(this.userNickname))]),this._v(" "),e("span",{staticStyle:{color:"#ddd","font-size":"1rem"},on:{click:this.logout}},[this._v("退出登录")])])])])},staticRenderFns:[]};var g={name:"layout",components:{asideMenu:n("VU/8")({name:"home",computed:{isCollapse:function(){return this.$store.state.isCollapse}},data:function(){return{showFlag:!1,menus:[]}},created:function(){this.showFlag=this.$store.state.showFlag},methods:{toModifyPassword:function(){this.$router.push({path:"/basic-setup"})}}},f,!1,function(t){n("Tut1")},"data-v-147b20c8",null).exports,topHeader:n("VU/8")({name:"topHeader",data:function(){return{showFlag:!1,userNickname:this.$utils.getloc("userNickname"),formLabelWidth:"100px",changePwdDialog:!1,userName:"刘立峰",pwdform:{oldpwd:"",newpwd:"",agpwd:""}}},created:function(){},methods:{logout:function(){this.$utils.removeloc("token"),this.$utils.removeloc("userNickname"),this.$utils.removeloc("group_id"),this.$router.push({path:"/login"})},toModifyPassword:function(){this.$router.push({path:"/basic-setup"})}}},v,!1,function(t){n("4Cdy")},"data-v-c640ccb0",null).exports},data:function(){return{}},created:function(){},methods:{}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("el-container",{staticStyle:{height:"100%"}},[n("aside-menu"),t._v(" "),n("el-container",[n("el-header",{staticClass:"elheader"},[n("top-header")],1),t._v(" "),n("el-main",[n("keep-alive",[t.$route.meta.keepAlive?n("router-view"):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():n("router-view")],1),t._v(" "),n("el-footer",{attrs:{height:"0px"}})],1)],1)],1)},staticRenderFns:[]};var C=n("VU/8")(g,_,!1,function(t){n("vbI3")},null,null).exports;s.default.use(h.a);var x=new h.a({routes:[{path:"/404",name:"404",component:p,hidden:!0},{path:"/login",name:"login",component:function(){return n.e(1).then(n.bind(null,"W2Q3"))},meta:{title:"登录"}},{path:"/forgot-password",name:"forgot-password",component:function(){return n.e(6).then(n.bind(null,"gYXj"))},meta:{title:"忘记密码"}},{path:"/",component:C,redirect:"/login",children:[{path:"/403",name:"403",component:function(){return n.e(8).then(n.bind(null,"k6uz"))},meta:{title:"无权限"}},{path:"/project-datalist",name:"project-datalist",component:function(){return n.e(5).then(n.bind(null,"O0Y0"))},meta:{title:"项目数据"}},{path:"/project-list",name:"project-list",component:function(){return n.e(4).then(n.bind(null,"2FtD"))},meta:{title:"月份总览"}},{path:"/basic-setup",name:"basic-setup",component:function(){return n.e(2).then(n.bind(null,"Wv76"))},meta:{title:"基本设置"}},{path:"/manage-info-list",name:"manage-info-list",component:function(){return n.e(11).then(n.bind(null,"Jv8p"))},meta:{title:"管理员列表"}},{path:"/manage-info-listdetail",name:"manage-info-listdetail",component:function(){return n.e(7).then(n.bind(null,"XQn3"))},meta:{title:"管理员列表"}},{path:"/add-user",name:"add-user",component:function(){return n.e(0).then(n.bind(null,"8alw"))},meta:{title:"新增用户信息"}},{path:"/make-user",name:"make-user",component:function(){return n.e(3).then(n.bind(null,"nZw+"))},meta:{title:"新增用户信息"}},{path:"/user-list",name:"user-list",component:function(){return n.e(9).then(n.bind(null,"hlen"))},meta:{title:"用户列表"}},{path:"/user-group-list",name:"user-group-list",component:function(){return n.e(10).then(n.bind(null,"KsOj"))},meta:{title:"用户组列表"}}]}]}),w=(n("j1ja"),n("zL8q")),y=n.n(w),b=(n("tvR6"),n("mtWM")),k=n.n(b),$=n("mvHQ"),L=n.n($),T=n("pFYg"),E=n.n(T),S=window.localStorage;var I={getloc:function(t){var e=S.getItem(t);return/^\{.*\}$/.test(e)&&(e=JSON.parse(e)),e},setloc:function(t,e){return(void 0===e?"undefined":E()(e))===E()({})&&(e=L()(e)),S.setItem(t,e)},removeloc:function(t){return S.removeItem(t)},getparam:function(t,e){var n;return e=(e||window.location.href).split("#"),(n=(-1!==t.indexOf("#")?e.length<2?"":e[1]:e[0]).match(new RegExp("(|[?&#])"+t.replace("#","")+"=([^#&?]*)(\\s||$)","gi")))?decodeURIComponent(n[0].split("=")[1]):""},objcopy:function(t){var e={};for(var n in t)e[n]=t[n];return e},sortA:function(t){var e=t;return e.sort(function(t,e){return t-e}),e},getSum:function(t){for(var e=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=parseInt(t[n]));return e}},F="http://pg.grepayment.com";function D(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function P(t){for(var e in t)null===t[e]&&delete t[e],"string"===D(t[e])?t[e]=t[e].trim():"object"===D(t[e])?t[e]=P(t[e]):"array"===D(t[e])&&(t[e]=P(t[e]));return t}function U(t,e,n,a,s){n&&"/core/api/payment/paymentout"!=e&&(n=P(n)),I.getloc("token")?n.token=I.getloc("token"):n.token="";var i=w.Loading.service({target:".el-main"}),o={Authorization:"Bearer "+I.getloc("token")};"/gpauth/partner/merchant/users/login"!=e&&"/gpauth/partner/merchant/users/add"!=e||(o={}),k()({method:t,url:e,headers:o,data:"POST"===t||"PUT"===t?n:null,params:"GET"===t||"DELETE"===t?n:null,baseURL:F,withCredentials:!1}).then(function(t){i.close(),t.data.code?a&&a(t.data):(w.Message.closeAll(),x.replace({path:"/login",query:{redirect:x.currentRoute.fullPath}}),w.Message.error(t.result))}).catch(function(t){if(console.log("3333",t.response),i.close(),t.response){t.response;w.Message.error(t.response.data.result)}else w.Message.error("网络错误，请稍后重试")})}function M(t,e,n,a,s){n&&(n=P(n)),I.getloc("token")?n.token=I.getloc("token"):n.token="",k()({method:t,url:e,headers:{token:I.getloc("token")},data:"POST"===t||"PUT"===t?n:null,params:"GET"===t||"DELETE"===t?n:null,baseURL:F,withCredentials:!1}).then(function(t){0===t.data.errcode?a&&a(t.data):1===t.data.errcode?(x.replace({path:"/login",query:{redirect:x.currentRoute.fullPath}}),w.Message.error(t.data.message)):w.Message.error(t.data.message)}).catch(function(t){if(t){w.Message.error("网络错误，请稍后重试");t.response}})}var R={get:function(t,e,n,a){return U("GET",t,e,n)},post:function(t,e,n,a){return U("POST",t,e,n)},put:function(t,e,n,a){return U("PUT",t,e,n)},delete:function(t,e,n,a){return U("DELETE",t,e,n)},getTall:function(t,e,n,a){return M("GET",t,e,n)},postTall:function(t,e,n,a){return M("POST",t,e,n)},putTall:function(t,e,n,a){return M("PUT",t,e,n)},deleteTall:function(t,e,n,a){return M("DELETE",t,e,n)},exportTable:function(t,e,n,a){return U("POST",t,e,n)}},j=n("NYxO");s.default.use(j.a);var z=new j.a.Store({state:{isShow:!0,isCollapse:!1,isBrokerage:!1,showFlag:!1,userList:[],activeIndex:"0",chatLeftData:[]},mutations:{hide:function(t){t.isShow=!t.isShow},collapse:function(t){t.isCollapse=!t.isCollapse},brokerageSwitch:function(t,e){t.isBrokerage=e},xianshi:function(t){t.showFlag=!0},yincang:function(t){t.showFlag=!1},setActiveIndex:function(t,e){t.activeIndex=e},setList:function(t,e){t.userList=e},setChatLeftData:function(t,e){t.chatLeftData=e}}}),O=n("nrAE"),B=n.n(O),N=n("XLwt"),A=n.n(N);n("sDoq");s.default.use(B.a),s.default.config.productionTip=!1,s.default.prototype.$utils=I,s.default.prototype.$api=R,x.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requireLogin})?localStorage.getItem("token")?n():n({path:"/login"}):n()}),s.default.use(y.a,{size:"small",zIndex:3e3}),s.default.prototype.$echarts=A.a,new s.default({el:"#app",router:x,store:z,render:function(t){return t(d)}})},"T+Sr":function(t,e){},Tut1:function(t,e){},"b/RU":function(t,e,n){t.exports=n.p+"static/img/companylogo.8996350.jpg"},"rzy/":function(t,e){},sDoq:function(t,e){function n(){var t=document.documentElement.clientWidth||document.body.clientWidth;document.getElementsByTagName("html")[0].style.fontSize=t/120+"px"}n(),window.onresize=function(){n()}},tvR6:function(t,e){},vbI3:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.49be91f3828fe1584f85.js.map