webpackJsonp([13],{"3+Wj":function(t,e){},"5ByA":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main organStructure-main"},[a("div",{staticClass:"mainHead"},[a("div",{staticClass:"searchBox clearfix"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-caret-right"}),t._v("当前位置：\n          ")]),t._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/company-list"}}},[t._v(t._s(t.company_name))]),t._v(" "),a("el-breadcrumb-item",{staticClass:"beforeloca"},[t._v("组织架构")])],1)],1),t._v(" "),a("div",{staticClass:"btn-add",on:{click:t.addOrganStructure}},[t._v("添加")])])]),t._v(" "),a("div",{staticClass:"dataList"},[a("el-table",{attrs:{data:t.tableData,"row-key":"id","default-expand-all":"","header-cell-style":t.getClass,"tree-props":{children:"children",hasChildren:"hasChildren"},height:"49.3rem"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"组织名称",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"organization",style:{"padding-left":e.row.leftpin+"px"}},[t._v("\n            "+t._s(e.row.lefthtml)+t._s(e.row.name)+"\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operation"},[a("span",{staticClass:"oper_edit",on:{click:function(a){return t.editRow(e.row)}}},[t._v("修改")]),t._v(" "),a("span",{staticClass:"oper_delet",on:{click:function(a){return t.deleteRow(e.row)}}},[t._v("删除")])])]}}])})],1)],1)])},staticRenderFns:[]};var s=a("VU/8")({name:"home",data:function(){return{tableData:[],companyId:"",company_name:""}},created:function(){this.companyId=this.$route.query.companyId,this.company_name=this.$route.query.companyName,this.orglist()},methods:{getClass:function(){return"background: #66CE90FF"},addOrganStructure:function(){this.$router.push({name:"organ-structure-updata",params:{companyId:this.companyId,id:0,type:0,pid:0}})},editRow:function(t){var e=t.id,a=t.pid;this.$router.push({name:"organ-structure-updata",params:{companyId:this.companyId,id:e,pid:a,type:1}})},deleteRow:function(t){var e=t.id;this.deletRow(e)},orglist:function(){var t=this;t.$api.get("orglist",{company_id:t.companyId},function(e){t.tableData=e.data.list,t.tableData.children=e.data.company_data},function(e){t.$message.error(e.message)})},deletRow:function(t){var e=this;e.$confirm("此操作将删除此条信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$api.delete("org/"+t,{},function(t){e.$message({type:"success",message:t.message}),e.orglist()},function(t){e.$message.error(t.message)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},mounted:function(){}},n,!1,function(t){a("v0ur"),a("3+Wj")},"data-v-5f3c5710",null);e.default=s.exports},v0ur:function(t,e){}});
//# sourceMappingURL=13.ca4acf255f1954dfc6a4.js.map